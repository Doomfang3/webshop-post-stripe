(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(64)},29:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),u=a.n(c),o=(a(29),a(2)),i=a(17),l=a(18),s=a(22),d=a(19),h=a(23),m=a(20),b=a.n(m),p=a(21),g=a.n(p),f={banana:150,cucumber:100},v={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer rk_test_rks1txRZLytoWnos8PxS1LKM00W8yowPUV"},y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleCartChange=function(e){e.preventDefault();var t=a.state.cart;t[e.target.name]+=parseInt(e.target.value),a.setState({cart:t})},a.handleCartReset=function(e){e.preventDefault(),a.setState({cart:{banana:0,cucumber:0}})},a.handleSubmit=function(e){e.preventDefault(),a.setState({fetching:!0});var t=a.state.cart;a.props.stripe.createToken().then(function(e){var n=e.token,r=t.banana*f.banana+t.cucumber*f.cucumber;b.a.post("https://api.stripe.com/v1/charges",g.a.stringify({source:n.id,amount:r,currency:"usd"}),{headers:v}).then(function(e){a.setState({fetching:!1}),alert("Thank you for your purchase! You card has been charged with: ".concat((e.data.amount/100).toLocaleString("en-US",{style:"currency",currency:"usd"})))}).catch(function(e){a.setState({fetching:!1}),console.log(e)})}).catch(function(e){a.setState({fetching:!1}),console.log(e)})},a.state={fetching:!1,cart:{banana:0,cucumber:0}},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.cart,t=this.state.fetching;return r.a.createElement("form",{onSubmit:this.handleSubmit,style:{width:"550px",margin:"20px",padding:"10px",border:"2px solid lightseagreen",borderRadius:"10px"}},r.a.createElement("div",null,"Banana"," ",(f.banana/100).toLocaleString("en-US",{style:"currency",currency:"usd"}),":",r.a.createElement("div",null,r.a.createElement("button",{name:"banana",value:1,onClick:this.handleCartChange},"+"),r.a.createElement("button",{name:"banana",value:-1,onClick:this.handleCartChange,disabled:e.banana<=0},"-"),e.banana)),r.a.createElement("div",null,"Cucumber"," ",(f.cucumber/100).toLocaleString("en-US",{style:"currency",currency:"usd"}),":",r.a.createElement("div",null,r.a.createElement("button",{name:"cucumber",value:1,onClick:this.handleCartChange},"+"),r.a.createElement("button",{name:"cucumber",value:-1,onClick:this.handleCartChange,disabled:e.cucumber<=0},"-"),e.cucumber)),r.a.createElement("button",{onClick:this.handleCartReset},"Reset Cart"),r.a.createElement("div",{style:{width:"450px",margin:"10px",padding:"5px",border:"2px solid green",borderRadius:"10px"}},r.a.createElement(o.CardElement,{style:{base:{fontSize:"18px"}}})),t?"Purchasing...":r.a.createElement("button",{type:"submit",disabled:0===e.banana&&0===e.cucumber},"Purchase"),"Price:",((e.banana*f.banana+e.cucumber*f.cucumber)/100).toLocaleString("en-US",{style:"currency",currency:"usd"}))}}]),t}(n.Component),C=Object(o.injectStripe)(y),E=function(){return r.a.createElement(o.StripeProvider,{apiKey:"pk_test_BT5vh9BIRdTxfPMubPv0xumE"},r.a.createElement(o.Elements,null,r.a.createElement(C,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.13252e24.chunk.js.map